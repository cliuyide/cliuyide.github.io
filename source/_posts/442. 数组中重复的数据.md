---
  title: 442. 数组中重复的数据
  date: 2018-07-17 
  categories: 算法 
  tags: [leetcode,Array,medium] 
---
# 442. 数组中重复的数据
#### <https://leetcode-cn.com/problems/find-all-duplicates-in-an-array/description//>
### 原题
---
#### 442. 数组中重复的数据
给定一个整数数组 a，其中1 ≤ a[i] ≤ n （n为数组长度）, 其中有些元素出现两次而其他元素出现一次。

找到所有出现两次的元素。

你可以不用到任何额外空间并在O(n)时间复杂度内解决这个问题吗？

示例：

输入:
[4,3,2,7,8,2,3,1]

输出:
[2,3]


### 解答
***
这道题,本身特别简单,加上两个限制条件后变得比较难,不允许额外空间和O(n)
题中有明显提示1 ≤ a[i] ≤ n （n为数组长度）,经过高人指点,醒悟可以使用索引搞定,
以后这种题优先考虑索引解决.解题思路就是将数组上各个位置的数放到该数组索引处,如
[2,1,3],就将2方法第二位,变成[1,2,3],这个思路,先排列好,再遍历一遍,假设该索引位置上已经有数字存在,说明数字重复.

 

```
    public List<Integer> findDuplicates(int[] nums) {
        List<Integer> result = new ArrayList<>();
        for (int i = 0; i < nums.length;) {
            int val = nums[i];
            int targetVal = nums[val - 1];
            if (val == i + 1 || val != targetVal) {
                if (val != targetVal) {
                    nums[val - 1] = val;
                    nums[i] = targetVal;
                    i--;
                }
                i++;
            }else{
                i++;
            }
        }

        for (int i = 0; i < nums.length; i++) {
            int val = nums[i];
            int targetVal = nums[val - 1];
            if (val != i + 1 && val == targetVal) {
                result.add(val);
            }
        }
        return result;
    }
```





